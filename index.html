<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Primary Meta Tags -->
    <title>HSK1 Â≠¶‰π† - Preparaci√≥n Examen Chino Mandar√≠n</title>
    <meta name="title" content="HSK1 Â≠¶‰π† - Preparaci√≥n Examen Chino Mandar√≠n">
    <meta name="description" content="Aplicaci√≥n gratuita para preparar el examen HSK Nivel 1. Aprende 150 palabras de chino mandar√≠n con flashcards, ejercicios, comprensi√≥n auditiva, lectura y sistema de repetici√≥n espaciada.">
    <meta name="keywords" content="HSK1, HSK, chino, mandar√≠n, aprender chino, examen chino, flashcards, vocabulario chino, pinyin, hanzi, caracteres chinos, Instituto Confucio">
    <meta name="author" content="Instituto Confucio Cochabamba">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Spanish">

    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HSK1 Prep">
    <meta name="application-name" content="HSK1 Prep">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#e53935">
    <meta name="msapplication-TileColor" content="#e53935">
    <meta name="msapplication-navbutton-color" content="#e53935">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hsk1.app/">
    <meta property="og:title" content="HSK1 Â≠¶‰π† - Preparaci√≥n Examen Chino">
    <meta property="og:description" content="Aprende chino mandar√≠n y prepara tu examen HSK1 con nuestra app gratuita. 150 palabras, flashcards, ejercicios y m√°s.">
    <meta property="og:image" content="https://hsk1.app/screenshots/og-image.png">
    <meta property="og:locale" content="es_ES">
    <meta property="og:site_name" content="HSK1 Â≠¶‰π†">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hsk1.app/">
    <meta property="twitter:title" content="HSK1 Â≠¶‰π† - Preparaci√≥n Examen Chino">
    <meta property="twitter:description" content="Aprende chino mandar√≠n y prepara tu examen HSK1 con nuestra app gratuita.">
    <meta property="twitter:image" content="https://hsk1.app/screenshots/og-image.png">

    <!-- Favicon & Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16.png">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23e53935' width='100' height='100' rx='20'/><text x='50' y='68' text-anchor='middle' fill='white' font-size='55'>‰∏≠</text></svg>">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="167x167" href="icons/icon-192.png">

    <!-- Manifest & Splash -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-title" content="HSK1">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="data.js" as="script">
    <link rel="preload" href="app.js" as="script">

    <!-- Prefetch modules for faster subsequent loads -->
    <link rel="prefetch" href="modules/statistics.js">
    <link rel="prefetch" href="modules/listening.js">
    <link rel="prefetch" href="modules/reading.js">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">

    <!-- Critical CSS for loading screen -->
    <style>
        .app-loader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #e53935 0%, #c62828 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .app-loader.hidden { opacity: 0; visibility: hidden; }
        .loader-logo {
            font-size: 80px;
            color: white;
            font-family: "Noto Sans SC", sans-serif;
            animation: pulse 1.5s infinite;
        }
        .loader-text { color: white; margin-top: 20px; font-size: 18px; }
        .loader-bar {
            width: 200px;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
        }
        .loader-progress {
            height: 100%;
            background: white;
            border-radius: 2px;
            animation: loading 1.5s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes loading {
            0% { width: 0%; margin-left: 0; }
            50% { width: 70%; margin-left: 0; }
            100% { width: 0%; margin-left: 100%; }
        }
    </style>

    <!-- Hanzi Writer for stroke order animations -->
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js" defer></script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="app-loader" class="app-loader">
        <div class="loader-logo">‰∏≠</div>
        <div class="loader-text">Cargando HSK1 Â≠¶‰π†...</div>
        <div class="loader-bar">
            <div class="loader-progress"></div>
        </div>
    </div>

    <div id="app" role="application" aria-label="HSK1 Â≠¶‰π† - Aplicaci√≥n de estudio">
        <!-- Header -->
        <header class="header" role="banner">
            <button id="menu-btn" class="icon-btn" aria-label="Abrir men√∫ de navegaci√≥n" aria-expanded="false" aria-controls="sidebar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <h1 id="page-title">HSK1 Â≠¶‰π†</h1>
            <button id="progress-btn" class="icon-btn" aria-label="Progreso">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 20V10M18 20V4M6 20v-4"></path>
                </svg>
            </button>
        </header>

        <!-- Sidebar Menu -->
        <nav id="sidebar" class="sidebar" role="navigation" aria-label="Men√∫ principal">
            <div class="sidebar-header">
                <span class="logo">‰∏≠Êñá</span>
                <span class="app-name">HSK1 Prep</span>
            </div>
            <ul class="nav-menu">
                <!-- MEN√ö SIMPLIFICADO: 6 opciones principales -->
                <li data-section="home" class="active">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    </svg>
                    Inicio
                </li>
                <li data-section="flashcards">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                        <path d="M12 8v8M8 12h8"></path>
                    </svg>
                    Vocabulario
                </li>
                <li data-section="hanzi">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 7h16M4 12h16M7 17h10"></path>
                    </svg>
                    Caracteres
                    <span class="nav-subtitle">Hanzi + Pinyin</span>
                </li>
                <li data-section="lessons">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    Lecciones
                    <span class="nav-subtitle">+ Gram√°tica</span>
                </li>
                <li data-section="exam">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4"></path>
                        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                    </svg>
                    Practicar
                    <span class="nav-subtitle">Examen + Ejercicios</span>
                </li>
                <li data-section="statistics">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 20V10M12 20V4M6 20v-6"></path>
                    </svg>
                    Mi Progreso
                </li>
            </ul>
            <div class="sidebar-footer">
                <div class="study-streak">
                    <span class="streak-icon">üî•</span>
                    <span id="streak-count">0</span> d√≠as estudiando
                </div>
                <div class="dark-mode-toggle" id="dark-mode-toggle">
                    <span>üåô</span>
                    <label>Modo Oscuro</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="dark-mode-checkbox">
                        <span class="toggle-slider"></span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Overlay for sidebar -->
        <div id="overlay" class="overlay"></div>

        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main" aria-label="Contenido principal">
            <!-- Home Section -->
            <section id="home-section" class="section active" aria-labelledby="home-title">
                <!-- User Level & XP Bar -->
                <div class="user-stats-bar">
                    <div class="user-level">
                        <div class="level-badge" id="user-level">1</div>
                        <span>Nivel</span>
                    </div>
                    <div style="flex: 1;">
                        <div class="xp-bar-container">
                            <div class="xp-bar" id="xp-bar" style="width: 0%"></div>
                        </div>
                        <div class="xp-text"><span id="current-xp">0</span> / 100 XP</div>
                    </div>
                </div>

                <!-- Due Cards Banner (SRS) -->
                <div class="due-cards-banner" id="due-cards-banner" onclick="app.startSRSReview()" style="display: none;">
                    <div>
                        <div class="due-count" id="due-count">0</div>
                        <div class="due-text">tarjetas para repasar hoy</div>
                    </div>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 24px; height: 24px;">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </div>

                <div class="welcome-card">
                    <h2>¬°Bienvenido! Ê¨¢Ëøé!</h2>
                    <p>Prep√°rate para aprobar el examen HSK Nivel 1</p>
                    <div class="exam-info">
                        <div class="info-item">
                            <span class="info-number">150</span>
                            <span class="info-label">Palabras</span>
                        </div>
                        <div class="info-item">
                            <span class="info-number">120/200</span>
                            <span class="info-label">Para aprobar</span>
                        </div>
                        <div class="info-item">
                            <span class="info-number">40</span>
                            <span class="info-label">Preguntas</span>
                        </div>
                    </div>
                </div>

                <!-- Tone Color Legend -->
                <div class="tone-legend">
                    <span style="font-weight: 500; width: 100%; margin-bottom: 4px;">Colores de Tonos:</span>
                    <div class="tone-legend-item"><span class="tone-dot t1"></span>1¬∫ Alto</div>
                    <div class="tone-legend-item"><span class="tone-dot t2"></span>2¬∫ Ascendente</div>
                    <div class="tone-legend-item"><span class="tone-dot t3"></span>3¬∫ Bajo</div>
                    <div class="tone-legend-item"><span class="tone-dot t4"></span>4¬∫ Descendente</div>
                    <div class="tone-legend-item"><span class="tone-dot t5"></span>Neutro</div>
                </div>

                <div class="progress-overview">
                    <h3>Tu Progreso</h3>
                    <div class="progress-cards">
                        <div class="progress-card" data-section="flashcards">
                            <div class="progress-ring">
                                <svg viewBox="0 0 36 36">
                                    <path class="ring-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="ring-progress" id="vocab-progress-ring" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <span class="progress-percent" id="vocab-percent">0%</span>
                            </div>
                            <span class="progress-label">Vocabulario</span>
                        </div>
                        <div class="progress-card" data-section="pinyin">
                            <div class="progress-ring">
                                <svg viewBox="0 0 36 36">
                                    <path class="ring-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="ring-progress" id="pinyin-progress-ring" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <span class="progress-percent" id="pinyin-percent">0%</span>
                            </div>
                            <span class="progress-label">Pinyin</span>
                        </div>
                        <div class="progress-card" data-section="hanzi">
                            <div class="progress-ring">
                                <svg viewBox="0 0 36 36">
                                    <path class="ring-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="ring-progress" id="hanzi-progress-ring" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <span class="progress-percent" id="hanzi-percent">0%</span>
                            </div>
                            <span class="progress-label">Caracteres</span>
                        </div>
                        <div class="progress-card" data-section="grammar">
                            <div class="progress-ring">
                                <svg viewBox="0 0 36 36">
                                    <path class="ring-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="ring-progress" id="grammar-progress-ring" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <span class="progress-percent" id="grammar-percent">0%</span>
                            </div>
                            <span class="progress-label">Gram√°tica</span>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Pr√°ctica R√°pida</h3>
                    <div class="action-buttons">
                        <button class="action-btn" data-action="quick-vocab">
                            <span class="action-icon">ËØç</span>
                            <span>10 Palabras</span>
                        </button>
                        <button class="action-btn" data-action="quick-pinyin">
                            <span class="action-icon">Êãº</span>
                            <span>Tonos</span>
                        </button>
                        <button class="action-btn" data-action="quick-hanzi">
                            <span class="action-icon">Â≠ó</span>
                            <span>Caracteres</span>
                        </button>
                        <button class="action-btn" data-action="mini-exam">
                            <span class="action-icon">ËÄÉ</span>
                            <span>Mini Examen</span>
                        </button>
                    </div>
                </div>

                <div class="daily-word">
                    <h3>Palabra del D√≠a</h3>
                    <div class="word-card" id="daily-word-card">
                        <div class="hanzi-large" id="daily-hanzi">‰Ω†Â•Ω</div>
                        <div class="pinyin" id="daily-pinyin">n«ê h«éo</div>
                        <div class="meaning" id="daily-meaning">Hola</div>
                        <button class="listen-btn" id="daily-listen">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Daily Goals Section -->
                <div class="daily-goals">
                    <h3>Meta Diaria</h3>
                    <div class="goal-progress">
                        <div class="goal-item">
                            <div class="goal-icon">üìö</div>
                            <div class="goal-info">
                                <div class="goal-label">Palabras estudiadas</div>
                                <div class="goal-bar-container">
                                    <div class="goal-bar" id="goal-words-bar" style="width: 0%"></div>
                                </div>
                                <div class="goal-text"><span id="goal-words-current">0</span> / <span id="goal-words-target">20</span></div>
                            </div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-icon">‚úèÔ∏è</div>
                            <div class="goal-info">
                                <div class="goal-label">Ejercicios completados</div>
                                <div class="goal-bar-container">
                                    <div class="goal-bar" id="goal-exercises-bar" style="width: 0%"></div>
                                </div>
                                <div class="goal-text"><span id="goal-exercises-current">0</span> / <span id="goal-exercises-target">10</span></div>
                            </div>
                        </div>
                        <div class="goal-item">
                            <div class="goal-icon">‚è±Ô∏è</div>
                            <div class="goal-info">
                                <div class="goal-label">Tiempo de estudio</div>
                                <div class="goal-bar-container">
                                    <div class="goal-bar" id="goal-time-bar" style="width: 0%"></div>
                                </div>
                                <div class="goal-text"><span id="goal-time-current">0</span> / <span id="goal-time-target">15</span> min</div>
                            </div>
                        </div>
                    </div>
                    <div class="goal-bonus" id="goal-bonus" style="display: none;">
                        <span class="bonus-icon">üéâ</span>
                        <span>¬°Meta diaria completada! +50 XP bonus</span>
                    </div>
                </div>

                <!-- Achievements Section -->
                <div class="achievements-section">
                    <h3>Logros Desbloqueados</h3>
                    <div class="achievements-grid" id="achievements-grid">
                        <div class="achievement locked" data-id="first-word" title="Aprende tu primera palabra">
                            <span class="achievement-icon">üå±</span>
                            <span class="achievement-name">Primer Paso</span>
                        </div>
                        <div class="achievement locked" data-id="streak-3" title="3 d√≠as seguidos estudiando">
                            <span class="achievement-icon">üî•</span>
                            <span class="achievement-name">En Racha</span>
                        </div>
                        <div class="achievement locked" data-id="vocab-25" title="Aprende 25 palabras">
                            <span class="achievement-icon">üìñ</span>
                            <span class="achievement-name">Aprendiz</span>
                        </div>
                        <div class="achievement locked" data-id="vocab-50" title="Aprende 50 palabras">
                            <span class="achievement-icon">üìö</span>
                            <span class="achievement-name">Estudiante</span>
                        </div>
                        <div class="achievement locked" data-id="vocab-100" title="Aprende 100 palabras">
                            <span class="achievement-icon">üéì</span>
                            <span class="achievement-name">Erudito</span>
                        </div>
                        <div class="achievement locked" data-id="vocab-150" title="Aprende las 150 palabras">
                            <span class="achievement-icon">üèÜ</span>
                            <span class="achievement-name">Maestro HSK1</span>
                        </div>
                        <div class="achievement locked" data-id="streak-7" title="7 d√≠as seguidos">
                            <span class="achievement-icon">‚≠ê</span>
                            <span class="achievement-name">Semana Perfecta</span>
                        </div>
                        <div class="achievement locked" data-id="streak-30" title="30 d√≠as seguidos">
                            <span class="achievement-icon">üíé</span>
                            <span class="achievement-name">Imparable</span>
                        </div>
                        <div class="achievement locked" data-id="exam-pass" title="Aprueba un examen de pr√°ctica">
                            <span class="achievement-icon">‚úÖ</span>
                            <span class="achievement-name">Examen Pasado</span>
                        </div>
                        <div class="achievement locked" data-id="exam-perfect" title="100% en un examen">
                            <span class="achievement-icon">üíØ</span>
                            <span class="achievement-name">Perfecto</span>
                        </div>
                        <div class="achievement locked" data-id="pronunciation" title="Practica pronunciaci√≥n 10 veces">
                            <span class="achievement-icon">üé§</span>
                            <span class="achievement-name">Orador</span>
                        </div>
                        <div class="achievement locked" data-id="level-5" title="Alcanza nivel 5">
                            <span class="achievement-icon">üöÄ</span>
                            <span class="achievement-name">Nivel 5</span>
                        </div>
                    </div>
                </div>

                <!-- Dictionary Search Widget -->
                <div class="dictionary-search-widget">
                    <h3>Buscar en Diccionario</h3>
                    <div class="search-input-container">
                        <input type="text" id="dictionary-search" placeholder="Buscar hanzi, pinyin o espa√±ol..." autocomplete="off">
                        <button id="search-btn" class="search-btn">
                            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="search-results" id="search-results"></div>
                </div>

                <!-- Pronunciation Practice Widget -->
                <div class="pronunciation-widget">
                    <h3>Pr√°ctica de Pronunciaci√≥n</h3>
                    <div class="pronunciation-card" id="pronunciation-card">
                        <div class="pron-word">
                            <span class="pron-hanzi" id="pron-hanzi">‰Ω†Â•Ω</span>
                            <span class="pron-pinyin" id="pron-pinyin">n«ê h«éo</span>
                        </div>
                        <div class="pron-meaning" id="pron-meaning">hola</div>
                        <div class="pron-controls">
                            <button class="pron-btn listen" id="pron-listen" title="Escuchar">
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                                </svg>
                            </button>
                            <button class="pron-btn record" id="pron-record" title="Grabar">
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                    <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"/>
                                </svg>
                            </button>
                            <button class="pron-btn next" id="pron-next" title="Siguiente">
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                    <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                                </svg>
                            </button>
                        </div>
                        <div class="pron-feedback" id="pron-feedback"></div>
                        <div class="pron-status" id="pron-status"></div>
                    </div>
                </div>
            </section>

            <!-- Flashcards Section -->
            <section id="flashcards-section" class="section">
                <div class="section-header">
                    <h2>Vocabulario ËØçÊ±á</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">Todas</button>
                        <button class="filter-tab" data-filter="new">Nuevas</button>
                        <button class="filter-tab" data-filter="learning">Aprendiendo</button>
                        <button class="filter-tab" data-filter="mastered">Dominadas</button>
                    </div>
                </div>

                <div class="lesson-selector">
                    <label>Lecci√≥n:</label>
                    <select id="vocab-lesson-select">
                        <option value="all">Todas las lecciones</option>
                        <option value="1">Lecci√≥n 1: ‰Ω†Â•Ω</option>
                        <option value="2">Lecci√≥n 2: Ë∞¢Ë∞¢‰Ω†</option>
                        <option value="3">Lecci√≥n 3: ‰Ω†Âè´‰ªÄ‰πàÂêçÂ≠ó</option>
                        <option value="4">Lecci√≥n 4: Â•πÊòØÊàëÁöÑÊ±âËØ≠ËÄÅÂ∏à</option>
                        <option value="5">Lecci√≥n 5: Â•πÂ•≥ÂÑø‰ªäÂπ¥‰∫åÂçÅÂ≤Å</option>
                        <option value="6">Lecci√≥n 6: Êàë‰ºöËØ¥Ê±âËØ≠</option>
                        <option value="7">Lecci√≥n 7: ‰ªäÂ§©Âá†Âè∑</option>
                        <option value="8">Lecci√≥n 8: ÊàëÊÉ≥ÂñùËå∂</option>
                        <option value="9">Lecci√≥n 9: ‰Ω†ÂÑøÂ≠êÂú®Âì™ÂÑøÂ∑•‰Ωú</option>
                        <option value="10">Lecci√≥n 10: ÊàëËÉΩÂùêËøôÂÑøÂêó</option>
                        <option value="11">Lecci√≥n 11: Áé∞Âú®Âá†ÁÇπ</option>
                        <option value="12">Lecci√≥n 12: ÊòéÂ§©Â§©Ê∞îÊÄé‰πàÊ†∑</option>
                        <option value="13">Lecci√≥n 13: ‰ªñÂú®Â≠¶ÂÅö‰∏≠ÂõΩËèúÂë¢</option>
                        <option value="14">Lecci√≥n 14: Â•π‰π∞‰∫Ü‰∏çÂ∞ëË°£Êúç</option>
                        <option value="15">Lecci√≥n 15: ÊàëÊòØÂùêÈ£ûÊú∫Êù•ÁöÑ</option>
                    </select>
                </div>

                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard">
                        <div class="flashcard-inner">
                            <div class="flashcard-front">
                                <div class="card-hanzi" id="card-hanzi">‰Ω†Â•Ω</div>
                                <div class="card-pinyin" id="card-pinyin">n«ê h«éo</div>
                                <button class="audio-btn" id="card-audio">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                        <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                    </svg>
                                </button>
                                <p class="tap-hint">Toca para ver significado</p>
                            </div>
                            <div class="flashcard-back">
                                <div class="card-meaning" id="card-meaning">Hola</div>
                                <div class="card-example" id="card-example">
                                    <span class="example-cn">‰Ω†Â•ΩÔºåÊàëÊòØÂ≠¶Áîü„ÄÇ</span>
                                    <span class="example-py">N«ê h«éo, w«í sh√¨ xu√©sheng.</span>
                                    <span class="example-es">Hola, soy estudiante.</span>
                                </div>
                                <p class="tap-hint">Toca para voltear</p>
                            </div>
                        </div>
                    </div>

                    <div class="card-counter">
                        <span id="current-card">1</span> / <span id="total-cards">150</span>
                    </div>

                    <div class="flashcard-controls">
                        <button class="control-btn wrong" id="btn-wrong" title="No lo s√©">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                        <button class="control-btn skip" id="btn-skip" title="Saltar">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 4 15 12 5 20 5 4"></polygon>
                                <line x1="19" y1="5" x2="19" y2="19"></line>
                            </svg>
                        </button>
                        <button class="control-btn correct" id="btn-correct" title="Lo s√©">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="vocab-stats">
                    <div class="stat">
                        <span class="stat-number" id="words-learned">0</span>
                        <span class="stat-label">Aprendidas</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="words-reviewing">0</span>
                        <span class="stat-label">Repasando</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="words-remaining">150</span>
                        <span class="stat-label">Restantes</span>
                    </div>
                </div>
            </section>

            <!-- Pinyin Section -->
            <section id="pinyin-section" class="section">
                <div class="section-header">
                    <h2>Pinyin y Tonos ÊãºÈü≥</h2>
                </div>

                <div class="pinyin-tabs">
                    <button class="pinyin-tab active" data-tab="tones">Los 4 Tonos</button>
                    <button class="pinyin-tab" data-tab="initials">Iniciales</button>
                    <button class="pinyin-tab" data-tab="finals">Finales</button>
                    <button class="pinyin-tab" data-tab="practice">Pr√°ctica</button>
                    <button class="pinyin-tab" data-tab="dictation">Dictado</button>
                </div>

                <!-- Tones Tab -->
                <div class="pinyin-content active" id="tones-content">
                    <div class="tones-intro">
                        <p>El chino mandar√≠n tiene <strong>4 tonos principales</strong> m√°s un tono neutro. Los tonos son esenciales para distinguir el significado de las palabras.</p>
                    </div>

                    <div class="tones-grid">
                        <div class="tone-card" data-tone="1">
                            <div class="tone-symbol">Àâ</div>
                            <div class="tone-number">1¬∫ Tono</div>
                            <div class="tone-desc">Alto y sostenido</div>
                            <div class="tone-example">
                                <span class="tone-hanzi">Â¶à</span>
                                <span class="tone-pinyin">mƒÅ</span>
                                <span class="tone-meaning">mam√°</span>
                            </div>
                            <button class="tone-listen-btn">Escuchar</button>
                        </div>

                        <div class="tone-card" data-tone="2">
                            <div class="tone-symbol">Àä</div>
                            <div class="tone-number">2¬∫ Tono</div>
                            <div class="tone-desc">Ascendente</div>
                            <div class="tone-example">
                                <span class="tone-hanzi">È∫ª</span>
                                <span class="tone-pinyin">m√°</span>
                                <span class="tone-meaning">c√°√±amo</span>
                            </div>
                            <button class="tone-listen-btn">Escuchar</button>
                        </div>

                        <div class="tone-card" data-tone="3">
                            <div class="tone-symbol">Àá</div>
                            <div class="tone-number">3¬∫ Tono</div>
                            <div class="tone-desc">Descendente-ascendente</div>
                            <div class="tone-example">
                                <span class="tone-hanzi">È©¨</span>
                                <span class="tone-pinyin">m«é</span>
                                <span class="tone-meaning">caballo</span>
                            </div>
                            <button class="tone-listen-btn">Escuchar</button>
                        </div>

                        <div class="tone-card" data-tone="4">
                            <div class="tone-symbol">Àã</div>
                            <div class="tone-number">4¬∫ Tono</div>
                            <div class="tone-desc">Descendente fuerte</div>
                            <div class="tone-example">
                                <span class="tone-hanzi">È™Ç</span>
                                <span class="tone-pinyin">m√†</span>
                                <span class="tone-meaning">rega√±ar</span>
                            </div>
                            <button class="tone-listen-btn">Escuchar</button>
                        </div>
                    </div>

                    <div class="tone-rules">
                        <h3>Reglas de Cambio de Tono (Tone Sandhi)</h3>
                        <div class="rule-card">
                            <h4>3¬∫ + 3¬∫ Tono ‚Üí 2¬∫ + 3¬∫</h4>
                            <p>Cuando dos terceros tonos est√°n juntos, el primero se lee como segundo tono.</p>
                            <div class="rule-example">
                                <span>‰Ω†Â•Ω (n«ê h«éo) ‚Üí se pronuncia "n√≠ h«éo"</span>
                            </div>
                        </div>
                        <div class="rule-card">
                            <h4>Cambio de ‰∏ç (b√π)</h4>
                            <p>Antes de un 4¬∫ tono, ‰∏ç cambia a 2¬∫ tono (b√∫).</p>
                            <div class="rule-example">
                                <span>‰∏çÊòØ (b√π sh√¨) ‚Üí se pronuncia "b√∫ sh√¨"</span>
                            </div>
                        </div>
                        <div class="rule-card">
                            <h4>Cambio de ‰∏Ä (yƒ´)</h4>
                            <p>Antes de 1¬∫, 2¬∫, 3¬∫ tono ‚Üí y√¨ (4¬∫ tono)<br>
                            Antes de 4¬∫ tono ‚Üí y√≠ (2¬∫ tono)</p>
                            <div class="rule-example">
                                <span>‰∏Ä‰∏™ (yƒ´ g√®) ‚Üí se pronuncia "y√≠ g√®"</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Initials Tab -->
                <div class="pinyin-content" id="initials-content">
                    <div class="initials-grid">
                        <div class="initial-group">
                            <h4>Labiales</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="b">b</button>
                                <button class="initial-btn" data-initial="p">p</button>
                                <button class="initial-btn" data-initial="m">m</button>
                                <button class="initial-btn" data-initial="f">f</button>
                            </div>
                        </div>
                        <div class="initial-group">
                            <h4>Alveolares</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="d">d</button>
                                <button class="initial-btn" data-initial="t">t</button>
                                <button class="initial-btn" data-initial="n">n</button>
                                <button class="initial-btn" data-initial="l">l</button>
                            </div>
                        </div>
                        <div class="initial-group">
                            <h4>Velares</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="g">g</button>
                                <button class="initial-btn" data-initial="k">k</button>
                                <button class="initial-btn" data-initial="h">h</button>
                            </div>
                        </div>
                        <div class="initial-group">
                            <h4>Palatales</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="j">j</button>
                                <button class="initial-btn" data-initial="q">q</button>
                                <button class="initial-btn" data-initial="x">x</button>
                            </div>
                        </div>
                        <div class="initial-group">
                            <h4>Retroflejas</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="zh">zh</button>
                                <button class="initial-btn" data-initial="ch">ch</button>
                                <button class="initial-btn" data-initial="sh">sh</button>
                                <button class="initial-btn" data-initial="r">r</button>
                            </div>
                        </div>
                        <div class="initial-group">
                            <h4>Dentales</h4>
                            <div class="initial-buttons">
                                <button class="initial-btn" data-initial="z">z</button>
                                <button class="initial-btn" data-initial="c">c</button>
                                <button class="initial-btn" data-initial="s">s</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Finals Tab -->
                <div class="pinyin-content" id="finals-content">
                    <div class="finals-grid">
                        <div class="final-group">
                            <h4>Simples</h4>
                            <div class="final-buttons">
                                <button class="final-btn">a</button>
                                <button class="final-btn">o</button>
                                <button class="final-btn">e</button>
                                <button class="final-btn">i</button>
                                <button class="final-btn">u</button>
                                <button class="final-btn">√º</button>
                            </div>
                        </div>
                        <div class="final-group">
                            <h4>Compuestas</h4>
                            <div class="final-buttons">
                                <button class="final-btn">ai</button>
                                <button class="final-btn">ei</button>
                                <button class="final-btn">ao</button>
                                <button class="final-btn">ou</button>
                                <button class="final-btn">ia</button>
                                <button class="final-btn">ie</button>
                                <button class="final-btn">iu</button>
                                <button class="final-btn">ua</button>
                                <button class="final-btn">uo</button>
                                <button class="final-btn">√ºe</button>
                            </div>
                        </div>
                        <div class="final-group">
                            <h4>Nasales</h4>
                            <div class="final-buttons">
                                <button class="final-btn">an</button>
                                <button class="final-btn">en</button>
                                <button class="final-btn">in</button>
                                <button class="final-btn">un</button>
                                <button class="final-btn">ang</button>
                                <button class="final-btn">eng</button>
                                <button class="final-btn">ing</button>
                                <button class="final-btn">ong</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Practice Tab -->
                <div class="pinyin-content" id="practice-content">
                    <div class="practice-mode-selector">
                        <button class="practice-mode active" data-mode="identify-tone">Identificar Tono</button>
                        <button class="practice-mode" data-mode="match-pinyin">Emparejar Pinyin</button>
                    </div>

                    <div class="practice-area" id="tone-practice">
                        <div class="practice-question">
                            <div class="practice-hanzi" id="practice-hanzi">Â•Ω</div>
                            <p>¬øQu√© tono tiene esta palabra?</p>
                        </div>
                        <div class="tone-options">
                            <button class="tone-option" data-tone="1">1¬∫ Tono (Àâ)</button>
                            <button class="tone-option" data-tone="2">2¬∫ Tono (Àä)</button>
                            <button class="tone-option" data-tone="3">3¬∫ Tono (Àá)</button>
                            <button class="tone-option" data-tone="4">4¬∫ Tono (Àã)</button>
                        </div>
                        <div class="practice-feedback" id="tone-feedback"></div>
                        <button class="next-practice-btn" id="next-tone-practice">Siguiente</button>
                    </div>
                </div>

                <!-- Dictation Tab -->
                <div class="pinyin-content" id="dictation-content">
                    <div class="dictation-intro">
                        <p>Escucha la palabra y escribe el <strong>pinyin</strong> o el <strong>significado</strong>.</p>
                    </div>

                    <div class="dictation-area">
                        <div class="dictation-controls">
                            <button class="dictation-play-btn" id="dictation-play">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                </svg>
                                Escuchar
                            </button>
                            <button class="dictation-play-btn slow" id="dictation-play-slow">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                </svg>
                                Lento
                            </button>
                        </div>

                        <div class="dictation-mode-toggle">
                            <button class="dictation-mode-btn active" data-mode="pinyin">Escribir Pinyin</button>
                            <button class="dictation-mode-btn" data-mode="meaning">Escribir Significado</button>
                        </div>

                        <div class="dictation-input-area">
                            <input type="text" id="dictation-input" placeholder="Escribe tu respuesta aqu√≠..." autocomplete="off">
                            <button class="dictation-submit-btn" id="dictation-submit">Verificar</button>
                        </div>

                        <div class="dictation-hint" id="dictation-hint" style="display: none;">
                            <button class="hint-btn" id="show-hint">Mostrar pista</button>
                            <div class="hint-content" id="hint-content"></div>
                        </div>

                        <div class="dictation-feedback" id="dictation-feedback"></div>

                        <div class="dictation-stats">
                            <div class="stat">
                                <span class="stat-number" id="dictation-correct">0</span>
                                <span class="stat-label">Correctas</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="dictation-total">0</span>
                                <span class="stat-label">Total</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="dictation-streak">0</span>
                                <span class="stat-label">Racha</span>
                            </div>
                        </div>

                        <button class="next-practice-btn" id="next-dictation">Siguiente Palabra</button>
                    </div>
                </div>
            </section>

            <!-- Hanzi Section -->
            <section id="hanzi-section" class="section">
                <div class="section-header">
                    <h2>Caracteres Chinos Ê±âÂ≠ó</h2>
                </div>

                <div class="hanzi-tabs">
                    <button class="hanzi-tab active" data-tab="strokes">Trazos</button>
                    <button class="hanzi-tab" data-tab="animation">Animaci√≥n</button>
                    <button class="hanzi-tab" data-tab="writing">Escritura</button>
                    <button class="hanzi-tab" data-tab="radicals">Radicales</button>
                    <button class="hanzi-tab" data-tab="pinyin-tab">Pinyin</button>
                    <button class="hanzi-tab" data-tab="practice-hanzi">Quiz</button>
                </div>

                <!-- Strokes Tab -->
                <div class="hanzi-content active" id="strokes-content">
                    <p class="hanzi-intro">Los caracteres chinos se construyen con trazos b√°sicos. Aprende el orden y la direcci√≥n correcta de cada trazo.</p>

                    <div class="strokes-grid">
                        <div class="stroke-card">
                            <div class="stroke-visual">‰∏Ä</div>
                            <div class="stroke-name">Ê®™ (h√©ng)</div>
                            <div class="stroke-desc">Horizontal (‚Üí)</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">‰∏®</div>
                            <div class="stroke-name">Á´ñ (sh√π)</div>
                            <div class="stroke-desc">Vertical (‚Üì)</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">‰∏ø</div>
                            <div class="stroke-name">Êíá (piƒõ)</div>
                            <div class="stroke-desc">Ca√≠da izquierda (‚Üô)</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">‰∏∂</div>
                            <div class="stroke-name">ÁÇπ (di«én)</div>
                            <div class="stroke-desc">Punto</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">„áè</div>
                            <div class="stroke-name">Êç∫ (n√†)</div>
                            <div class="stroke-desc">Ca√≠da derecha (‚Üò)</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">„áÄ</div>
                            <div class="stroke-name">Êèê (t√≠)</div>
                            <div class="stroke-desc">Levantamiento (‚Üó)</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">„áÅ</div>
                            <div class="stroke-name">Ê®™Êäò (h√©ngzh√©)</div>
                            <div class="stroke-desc">Horizontal + giro</div>
                        </div>
                        <div class="stroke-card">
                            <div class="stroke-visual">‰∫Ö</div>
                            <div class="stroke-name">Á´ñÈí© (sh√πg≈çu)</div>
                            <div class="stroke-desc">Vertical + gancho</div>
                        </div>
                    </div>

                    <div class="stroke-rules">
                        <h3>Reglas de Orden de Trazos</h3>
                        <ul class="rules-list">
                            <li><strong>Horizontal antes que vertical:</strong> ÂçÅ (sh√≠)</li>
                            <li><strong>Ca√≠da izquierda antes que derecha:</strong> ‰∫∫ (r√©n)</li>
                            <li><strong>De arriba hacia abajo:</strong> ‰∏â (sƒÅn)</li>
                            <li><strong>De izquierda a derecha:</strong> Â∑ù (chuƒÅn)</li>
                            <li><strong>Exterior antes que interior:</strong> Êúà (yu√®)</li>
                            <li><strong>Interior antes de cerrar:</strong> ÂõΩ (gu√≥)</li>
                            <li><strong>Centro antes que lados:</strong> Â∞è (xi«éo)</li>
                        </ul>
                    </div>
                </div>

                <!-- Animation Tab - Stroke Order Animation -->
                <div class="hanzi-content" id="animation-content">
                    <p class="hanzi-intro">Observa c√≥mo se escriben los caracteres con animaciones del orden de trazos.</p>

                    <div class="animation-controls">
                        <div class="char-input-group">
                            <label>Escribe un car√°cter:</label>
                            <input type="text" id="animation-char-input" maxlength="1" placeholder="‰∏≠" value="‰∏≠">
                            <button class="btn-primary" id="load-animation">Cargar</button>
                        </div>

                        <div class="quick-chars">
                            <span>Caracteres populares:</span>
                            <div class="quick-char-btns">
                                <button class="quick-char" data-char="‰∏≠">‰∏≠</button>
                                <button class="quick-char" data-char="ÂõΩ">ÂõΩ</button>
                                <button class="quick-char" data-char="Â≠¶">Â≠¶</button>
                                <button class="quick-char" data-char="Â•Ω">Â•Ω</button>
                                <button class="quick-char" data-char="Êàë">Êàë</button>
                                <button class="quick-char" data-char="‰Ω†">‰Ω†</button>
                                <button class="quick-char" data-char="ÊòØ">ÊòØ</button>
                                <button class="quick-char" data-char="ÁöÑ">ÁöÑ</button>
                            </div>
                        </div>
                    </div>

                    <div class="animation-display">
                        <div class="hanzi-writer-container" id="stroke-animation-target"></div>
                        <div class="animation-info">
                            <div class="char-info" id="animation-char-info">
                                <span class="big-char" id="animation-current-char">‰∏≠</span>
                                <span class="stroke-count">Trazos: <strong id="animation-stroke-count">4</strong></span>
                            </div>
                        </div>
                    </div>

                    <div class="animation-buttons">
                        <button class="anim-btn" id="animate-stroke">
                            <span class="btn-icon">‚ñ∂</span>
                            Animar
                        </button>
                        <button class="anim-btn" id="animate-stroke-by-stroke">
                            <span class="btn-icon">‚è≠</span>
                            Trazo por Trazo
                        </button>
                        <button class="anim-btn" id="reset-animation">
                            <span class="btn-icon">‚Ü∫</span>
                            Reiniciar
                        </button>
                    </div>

                    <div class="animation-tips">
                        <h4>üí° Consejos para memorizar trazos:</h4>
                        <ul>
                            <li>Siempre de <strong>izquierda a derecha</strong></li>
                            <li>Siempre de <strong>arriba hacia abajo</strong></li>
                            <li>Los trazos <strong>horizontales antes que verticales</strong></li>
                            <li>El <strong>exterior antes que el interior</strong></li>
                        </ul>
                    </div>
                </div>

                <!-- Writing Tab - Practice Canvas -->
                <div class="hanzi-content" id="writing-content">
                    <p class="hanzi-intro">Practica escribiendo caracteres con tu dedo o mouse. El sistema te guiar√° trazo por trazo.</p>

                    <div class="writing-controls">
                        <div class="char-input-group">
                            <label>Car√°cter a practicar:</label>
                            <input type="text" id="writing-char-input" maxlength="1" placeholder="Â•Ω" value="Â•Ω">
                            <button class="btn-primary" id="load-writing">Cargar</button>
                        </div>

                        <div class="quick-chars">
                            <span>Caracteres HSK1:</span>
                            <div class="quick-char-btns">
                                <button class="quick-char-write" data-char="‰∫∫">‰∫∫</button>
                                <button class="quick-char-write" data-char="Â§ß">Â§ß</button>
                                <button class="quick-char-write" data-char="Â∞è">Â∞è</button>
                                <button class="quick-char-write" data-char="‰∏ä">‰∏ä</button>
                                <button class="quick-char-write" data-char="‰∏ã">‰∏ã</button>
                                <button class="quick-char-write" data-char="Â§©">Â§©</button>
                                <button class="quick-char-write" data-char="Â•≥">Â•≥</button>
                                <button class="quick-char-write" data-char="Â≠ê">Â≠ê</button>
                            </div>
                        </div>
                    </div>

                    <div class="writing-display">
                        <div class="hanzi-writer-container" id="writing-practice-target"></div>
                        <div class="writing-stats">
                            <div class="stat-item">
                                <span class="stat-value" id="writing-mistakes">0</span>
                                <span class="stat-label">Errores</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="writing-completed">0</span>
                                <span class="stat-label">Completados</span>
                            </div>
                        </div>
                    </div>

                    <div class="writing-mode-toggle">
                        <span>Modo:</span>
                        <button class="writing-mode active" data-mode="quiz">Con Gu√≠a</button>
                        <button class="writing-mode" data-mode="free">Libre</button>
                    </div>

                    <div class="writing-feedback" id="writing-feedback"></div>

                    <div class="writing-buttons">
                        <button class="write-btn" id="show-hint-writing">
                            <span class="btn-icon">üí°</span>
                            Mostrar Pista
                        </button>
                        <button class="write-btn" id="show-outline">
                            <span class="btn-icon">üëÅ</span>
                            Ver Contorno
                        </button>
                        <button class="write-btn" id="restart-writing">
                            <span class="btn-icon">‚Ü∫</span>
                            Reiniciar
                        </button>
                    </div>
                </div>

                <!-- Radicals Tab -->
                <div class="hanzi-content" id="radicals-content">
                    <p class="hanzi-intro">Los radicales (ÂÅèÊóÅ) son componentes que dan pistas sobre el significado de los caracteres.</p>

                    <div class="radicals-grid">
                        <div class="radical-card">
                            <div class="radical-char">Ê∞µ</div>
                            <div class="radical-name">‰∏âÁÇπÊ∞¥</div>
                            <div class="radical-meaning">Agua</div>
                            <div class="radical-examples">Ê±â, Ê≤°, Êµ∑</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">ËÆ†</div>
                            <div class="radical-name">Ë®ÄÂ≠óÊóÅ</div>
                            <div class="radical-meaning">Palabra/Habla</div>
                            <div class="radical-examples">ËØ¥, ËØù, Ë∞¢, ËØ∑</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">Âè£</div>
                            <div class="radical-name">Âè£Â≠óÊóÅ</div>
                            <div class="radical-meaning">Boca</div>
                            <div class="radical-examples">ÂêÉ, Âñù, Âêó, Âë¢</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">Â•≥</div>
                            <div class="radical-name">Â•≥Â≠óÊóÅ</div>
                            <div class="radical-meaning">Mujer</div>
                            <div class="radical-examples">Â¶à, Âßê, Â•π, Â•Ω</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">‰∫ª</div>
                            <div class="radical-name">Âçï‰∫∫ÊóÅ</div>
                            <div class="radical-meaning">Persona</div>
                            <div class="radical-examples">‰Ω†, ‰ªñ, ‰ª¨, ÂÅö</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">ÈíÖ</div>
                            <div class="radical-name">ÈáëÂ≠óÊóÅ</div>
                            <div class="radical-meaning">Metal/Dinero</div>
                            <div class="radical-examples">Èí±, Èíü</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">È•£</div>
                            <div class="radical-name">È£üÂ≠óÊóÅ</div>
                            <div class="radical-meaning">Comida</div>
                            <div class="radical-examples">È•≠, È•ø</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">Ëæ∂</div>
                            <div class="radical-name">Ëµ∞‰πãÂ∫ï</div>
                            <div class="radical-meaning">Caminar</div>
                            <div class="radical-examples">Ëøô, ÈÇ£, ÈÅì</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">ÂøÉ</div>
                            <div class="radical-name">ÂøÉÂ≠óÂ∫ï</div>
                            <div class="radical-meaning">Coraz√≥n</div>
                            <div class="radical-examples">ÊÉ≥, ÊÇ®, ÊÄé</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">Êó•</div>
                            <div class="radical-name">Êó•Â≠óÊóÅ</div>
                            <div class="radical-meaning">Sol/D√≠a</div>
                            <div class="radical-examples">Êòé, Êó∂, Êòü</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">Êúà</div>
                            <div class="radical-name">ÊúàÂ≠óÊóÅ</div>
                            <div class="radical-meaning">Luna/Cuerpo</div>
                            <div class="radical-examples">Êúã, Êúç</div>
                        </div>
                        <div class="radical-card">
                            <div class="radical-char">ÂÆÄ</div>
                            <div class="radical-name">ÂÆùÁõñÂ§¥</div>
                            <div class="radical-meaning">Techo/Casa</div>
                            <div class="radical-examples">ÂÆ∂, Â≠ó, Â≠¶</div>
                        </div>
                    </div>
                </div>

                <!-- Structure Tab -->
                <div class="hanzi-content" id="structure-content">
                    <p class="hanzi-intro">Los caracteres chinos tienen diferentes estructuras que ayudan a identificar y memorizar sus componentes.</p>

                    <div class="structure-grid">
                        <div class="structure-card">
                            <h4>Áã¨‰ΩìÁªìÊûÑ</h4>
                            <p>Componente √∫nico</p>
                            <div class="structure-examples">
                                <span>‰∫∫</span>
                                <span>‰∏≠</span>
                                <span>Â§ß</span>
                                <span>Â∞è</span>
                                <span>Â±±</span>
                            </div>
                        </div>
                        <div class="structure-card">
                            <h4>Â∑¶Âè≥ÁªìÊûÑ</h4>
                            <p>Izquierda-Derecha</p>
                            <div class="structure-examples">
                                <span>‰Ω†</span>
                                <span>Â•Ω</span>
                                <span>Ë∞Å</span>
                                <span>ËØ¥</span>
                                <span>ÂÅö</span>
                            </div>
                        </div>
                        <div class="structure-card">
                            <h4>‰∏ä‰∏ãÁªìÊûÑ</h4>
                            <p>Arriba-Abajo</p>
                            <div class="structure-examples">
                                <span>ÊòØ</span>
                                <span>Áà∏</span>
                                <span>Ëå∂</span>
                                <span>Â≠ó</span>
                                <span>È´ò</span>
                            </div>
                        </div>
                        <div class="structure-card">
                            <h4>ÂçäÂåÖÂõ¥ÁªìÊûÑ</h4>
                            <p>Semi-cerrado</p>
                            <div class="structure-examples">
                                <span>Ëøô</span>
                                <span>Âåª</span>
                                <span>Â∫ó</span>
                                <span>‰π†</span>
                            </div>
                        </div>
                        <div class="structure-card">
                            <h4>ÂÖ®ÂåÖÂõ¥ÁªìÊûÑ</h4>
                            <p>Cerrado completo</p>
                            <div class="structure-examples">
                                <span>ÂõΩ</span>
                                <span>Âõõ</span>
                                <span>Âõû</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pinyin Tab (dentro de Caracteres) -->
                <div class="hanzi-content" id="pinyin-tab-content">
                    <div class="pinyin-quick-guide">
                        <h3>Los 4 Tonos del Chino</h3>
                        <p class="hanzi-intro">Los tonos son esenciales para distinguir el significado de las palabras.</p>

                        <div class="tones-mini-grid">
                            <div class="tone-mini" data-tone="1">
                                <span class="tone-mark">Àâ</span>
                                <span class="tone-label">1¬∫ Alto</span>
                                <span class="tone-ex">mƒÅ Â¶à</span>
                            </div>
                            <div class="tone-mini" data-tone="2">
                                <span class="tone-mark">Àä</span>
                                <span class="tone-label">2¬∫ Sube</span>
                                <span class="tone-ex">m√° È∫ª</span>
                            </div>
                            <div class="tone-mini" data-tone="3">
                                <span class="tone-mark">Àá</span>
                                <span class="tone-label">3¬∫ Baja-sube</span>
                                <span class="tone-ex">m«é È©¨</span>
                            </div>
                            <div class="tone-mini" data-tone="4">
                                <span class="tone-mark">Àã</span>
                                <span class="tone-label">4¬∫ Baja</span>
                                <span class="tone-ex">m√† È™Ç</span>
                            </div>
                        </div>

                        <div class="pinyin-actions">
                            <button class="btn-primary" onclick="app.navigateTo('pinyin')">
                                Pr√°ctica Completa de Pinyin
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Hanzi Practice Tab -->
                <div class="hanzi-content" id="practice-hanzi-content">
                    <div class="hanzi-practice-area">
                        <div class="hanzi-display">
                            <div class="hanzi-large" id="practice-char">‰∏≠</div>
                            <div class="hanzi-info">
                                <span class="info-pinyin" id="practice-char-pinyin">zh≈çng</span>
                                <span class="info-meaning" id="practice-char-meaning">centro, medio</span>
                            </div>
                        </div>

                        <div class="hanzi-quiz">
                            <p>¬øCu√°l es el significado de este car√°cter?</p>
                            <div class="hanzi-options" id="hanzi-options">
                                <button class="hanzi-option">Arriba</button>
                                <button class="hanzi-option">Centro</button>
                                <button class="hanzi-option">Abajo</button>
                                <button class="hanzi-option">Fuera</button>
                            </div>
                        </div>

                        <div class="hanzi-feedback" id="hanzi-feedback"></div>
                        <button class="next-practice-btn" id="next-hanzi-practice">Siguiente Car√°cter</button>
                    </div>
                </div>
            </section>

            <!-- Grammar Section -->
            <section id="grammar-section" class="section">
                <div class="section-header">
                    <h2>Gram√°tica ËØ≠Ê≥ï</h2>
                </div>

                <div class="grammar-list">
                    <!-- Grammar Point 1 -->
                    <div class="grammar-card" data-grammar="shi">
                        <div class="grammar-header">
                            <h3>Oraci√≥n con ÊòØ (sh√¨)</h3>
                            <span class="lesson-tag">Lecci√≥n 3</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">Estructura:</p>
                                <p class="structure-formula">Sujeto + ÊòØ + Sustantivo/Pronombre</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÊòØÂ≠¶Áîü„ÄÇ</span>
                                    <span class="py">W«í sh√¨ xu√©sheng.</span>
                                    <span class="es">Yo soy estudiante.</span>
                                </div>
                                <div class="example">
                                    <span class="cn">Â•πÊòØËÄÅÂ∏à„ÄÇ</span>
                                    <span class="py">TƒÅ sh√¨ l«éoshƒ´.</span>
                                    <span class="es">Ella es profesora.</span>
                                </div>
                            </div>
                            <div class="grammar-negative">
                                <p><strong>Negaci√≥n:</strong> Sujeto + ‰∏çÊòØ + Sustantivo</p>
                                <div class="example">
                                    <span class="cn">Êàë‰∏çÊòØ‰∏≠ÂõΩ‰∫∫„ÄÇ</span>
                                    <span class="py">W«í b√∫ sh√¨ Zh≈çnggu√≥r√©n.</span>
                                    <span class="es">No soy chino.</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 2 -->
                    <div class="grammar-card" data-grammar="ma">
                        <div class="grammar-header">
                            <h3>Preguntas con Âêó (ma)</h3>
                            <span class="lesson-tag">Lecci√≥n 3</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">Estructura:</p>
                                <p class="structure-formula">Oraci√≥n afirmativa + ÂêóÔºü</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">‰Ω†ÊòØËÄÅÂ∏àÂêóÔºü</span>
                                    <span class="py">N«ê sh√¨ l«éoshƒ´ ma?</span>
                                    <span class="es">¬øEres profesor?</span>
                                </div>
                                <div class="example">
                                    <span class="cn">‰ªñÊòØÁæéÂõΩ‰∫∫ÂêóÔºü</span>
                                    <span class="py">TƒÅ sh√¨ Mƒõigu√≥r√©n ma?</span>
                                    <span class="es">¬øEs √©l estadounidense?</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 3 -->
                    <div class="grammar-card" data-grammar="de">
                        <div class="grammar-header">
                            <h3>Part√≠cula estructural ÁöÑ (de)</h3>
                            <span class="lesson-tag">Lecci√≥n 4</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">Estructura (posesi√≥n):</p>
                                <p class="structure-formula">Poseedor + ÁöÑ + Pose√≠do</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÁöÑ‰π¶</span>
                                    <span class="py">w«í de sh≈´</span>
                                    <span class="es">mi libro</span>
                                </div>
                                <div class="example">
                                    <span class="cn">Â•πÁöÑËÄÅÂ∏à</span>
                                    <span class="py">tƒÅ de l«éoshƒ´</span>
                                    <span class="es">su profesor (de ella)</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 4 -->
                    <div class="grammar-card" data-grammar="you">
                        <div class="grammar-header">
                            <h3>Verbo Êúâ (y«íu) - Tener/Haber</h3>
                            <span class="lesson-tag">Lecci√≥n 5, 10</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">Posesi√≥n:</p>
                                <p class="structure-formula">Sujeto + Êúâ + Objeto</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÊúâ‰∏â‰∏™ÊúãÂèã„ÄÇ</span>
                                    <span class="py">W«í y«íu sƒÅn g√® p√©ngyou.</span>
                                    <span class="es">Tengo tres amigos.</span>
                                </div>
                            </div>
                            <div class="grammar-structure">
                                <p class="structure-label">Existencia:</p>
                                <p class="structure-formula">Lugar + Êúâ + Cosa/Persona</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">Ê°åÂ≠ê‰∏äÊúâ‰∏ÄÊú¨‰π¶„ÄÇ</span>
                                    <span class="py">Zhu≈çzi sh√†ng y«íu y√¨ bƒõn sh≈´.</span>
                                    <span class="es">Hay un libro en la mesa.</span>
                                </div>
                            </div>
                            <div class="grammar-negative">
                                <p><strong>Negaci√≥n:</strong> Ê≤°Êúâ (m√©i y«íu) - No tener/No haber</p>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 5 -->
                    <div class="grammar-card" data-grammar="hui">
                        <div class="grammar-header">
                            <h3>Verbo modal ‰ºö (hu√¨)</h3>
                            <span class="lesson-tag">Lecci√≥n 6, 12</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">1. Habilidad adquirida:</p>
                                <p class="structure-formula">Sujeto + ‰ºö + Verbo</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">Êàë‰ºöËØ¥Ê±âËØ≠„ÄÇ</span>
                                    <span class="py">W«í hu√¨ shu≈ç H√†ny«î.</span>
                                    <span class="es">S√© hablar chino.</span>
                                </div>
                            </div>
                            <div class="grammar-structure">
                                <p class="structure-label">2. Posibilidad futura:</p>
                                <p class="structure-formula">Sujeto + ‰ºö + Verbo (predicci√≥n)</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊòéÂ§©‰ºö‰∏ãÈõ®„ÄÇ</span>
                                    <span class="py">M√≠ngtiƒÅn hu√¨ xi√† y«î.</span>
                                    <span class="es">Ma√±ana va a llover.</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 6 -->
                    <div class="grammar-card" data-grammar="xiang">
                        <div class="grammar-header">
                            <h3>Verbo modal ÊÉ≥ (xi«éng)</h3>
                            <span class="lesson-tag">Lecci√≥n 8</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">Deseo/Intenci√≥n:</p>
                                <p class="structure-formula">Sujeto + ÊÉ≥ + Verbo</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÊÉ≥ÂñùËå∂„ÄÇ</span>
                                    <span class="py">W«í xi«éng hƒì ch√°.</span>
                                    <span class="es">Quiero beber t√©.</span>
                                </div>
                                <div class="example">
                                    <span class="cn">‰Ω†ÊÉ≥ÂêÉ‰ªÄ‰πàÔºü</span>
                                    <span class="py">N«ê xi«éng chƒ´ sh√©nme?</span>
                                    <span class="es">¬øQu√© quieres comer?</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 7 -->
                    <div class="grammar-card" data-grammar="zai">
                        <div class="grammar-header">
                            <h3>Verbo/Preposici√≥n Âú® (z√†i)</h3>
                            <span class="lesson-tag">Lecci√≥n 9, 13</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">1. Ubicaci√≥n (verbo):</p>
                                <p class="structure-formula">Sujeto + Âú® + Lugar</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">‰ªñÂú®ÂåªÈô¢„ÄÇ</span>
                                    <span class="py">TƒÅ z√†i yƒ´yu√†n.</span>
                                    <span class="es">√âl est√° en el hospital.</span>
                                </div>
                            </div>
                            <div class="grammar-structure">
                                <p class="structure-label">2. Lugar de acci√≥n (preposici√≥n):</p>
                                <p class="structure-formula">Sujeto + Âú® + Lugar + Verbo</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÂú®ÂÆ∂Áúã‰π¶„ÄÇ</span>
                                    <span class="py">W«í z√†i jiƒÅ k√†n sh≈´.</span>
                                    <span class="es">Leo en casa.</span>
                                </div>
                            </div>
                            <div class="grammar-structure">
                                <p class="structure-label">3. Acci√≥n en progreso:</p>
                                <p class="structure-formula">Sujeto + Âú® + Verbo + Âë¢</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">‰ªñÂú®Â≠¶ÂÅö‰∏≠ÂõΩËèúÂë¢„ÄÇ</span>
                                    <span class="py">TƒÅ z√†i xu√© zu√≤ Zh≈çnggu√≥ c√†i ne.</span>
                                    <span class="es">√âl est√° aprendiendo a cocinar comida china.</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 8 -->
                    <div class="grammar-card" data-grammar="le">
                        <div class="grammar-header">
                            <h3>Part√≠cula ‰∫Ü (le)</h3>
                            <span class="lesson-tag">Lecci√≥n 5, 14</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">1. Cambio de estado:</p>
                                <p class="structure-formula">Oraci√≥n + ‰∫Ü</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">Â•π20Â≤Å‰∫Ü„ÄÇ</span>
                                    <span class="py">TƒÅ √®rsh√≠ su√¨ le.</span>
                                    <span class="es">Ella ya tiene 20 a√±os.</span>
                                </div>
                            </div>
                            <div class="grammar-structure">
                                <p class="structure-label">2. Acci√≥n completada:</p>
                                <p class="structure-formula">Verbo + ‰∫Ü + Objeto</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">Â•π‰π∞‰∫ÜÂæàÂ§öË°£Êúç„ÄÇ</span>
                                    <span class="py">TƒÅ m«éi le hƒõn du≈ç yƒ´fu.</span>
                                    <span class="es">Ella compr√≥ mucha ropa.</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Grammar Point 9 -->
                    <div class="grammar-card" data-grammar="shide">
                        <div class="grammar-header">
                            <h3>Estructura ÊòØ...ÁöÑ (sh√¨...de)</h3>
                            <span class="lesson-tag">Lecci√≥n 15</span>
                        </div>
                        <div class="grammar-content">
                            <div class="grammar-structure">
                                <p class="structure-label">√ânfasis en tiempo/lugar/modo:</p>
                                <p class="structure-formula">Sujeto + ÊòØ + [Tiempo/Lugar/Modo] + Verbo + ÁöÑ</p>
                            </div>
                            <div class="grammar-examples">
                                <div class="example">
                                    <span class="cn">ÊàëÊòØÂùêÈ£ûÊú∫Êù•ÁöÑ„ÄÇ</span>
                                    <span class="py">W«í sh√¨ zu√≤ fƒìijƒ´ l√°i de.</span>
                                    <span class="es">Vine en avi√≥n. (√©nfasis en c√≥mo)</span>
                                </div>
                                <div class="example">
                                    <span class="cn">‰Ω†ÊòØ‰ªÄ‰πàÊó∂ÂÄôÊù•ÁöÑÔºü</span>
                                    <span class="py">N«ê sh√¨ sh√©nme sh√≠hou l√°i de?</span>
                                    <span class="es">¬øCu√°ndo viniste? (√©nfasis en cu√°ndo)</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>

                    <!-- Question Words -->
                    <div class="grammar-card" data-grammar="questions">
                        <div class="grammar-header">
                            <h3>Palabras Interrogativas</h3>
                            <span class="lesson-tag">Varias</span>
                        </div>
                        <div class="grammar-content">
                            <div class="question-words-grid">
                                <div class="qword">
                                    <span class="qword-cn">‰ªÄ‰πà</span>
                                    <span class="qword-py">sh√©nme</span>
                                    <span class="qword-es">qu√©</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">Ë∞Å</span>
                                    <span class="qword-py">sh√©i</span>
                                    <span class="qword-es">qui√©n</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">Âì™</span>
                                    <span class="qword-py">n«é</span>
                                    <span class="qword-es">cu√°l</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">Âì™ÂÑø</span>
                                    <span class="qword-py">n«ér</span>
                                    <span class="qword-es">d√≥nde</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">Âá†</span>
                                    <span class="qword-py">j«ê</span>
                                    <span class="qword-es">cu√°ntos (peque√±o)</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">Â§öÂ∞ë</span>
                                    <span class="qword-py">du≈çshao</span>
                                    <span class="qword-es">cu√°nto/cu√°ntos</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">ÊÄé‰πà</span>
                                    <span class="qword-py">zƒõnme</span>
                                    <span class="qword-es">c√≥mo (manera)</span>
                                </div>
                                <div class="qword">
                                    <span class="qword-cn">ÊÄé‰πàÊ†∑</span>
                                    <span class="qword-py">zƒõnmey√†ng</span>
                                    <span class="qword-es">c√≥mo (estado)</span>
                                </div>
                            </div>
                        </div>
                        <button class="practice-grammar-btn">Practicar</button>
                    </div>
                </div>
            </section>

            <!-- Lessons Section -->
            <section id="lessons-section" class="section">
                <div class="section-header">
                    <h2>Lecciones ËØæÊñá</h2>
                </div>

                <div class="lessons-grid" id="lessons-grid">
                    <!-- Lessons will be generated by JavaScript -->
                </div>

                <!-- Lesson Detail View -->
                <div id="lesson-detail" class="lesson-detail hidden">
                    <button class="back-btn" id="back-to-lessons">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                        Volver
                    </button>
                    <div class="lesson-content" id="lesson-content">
                        <!-- Lesson content will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Exam Section (Practicar) -->
            <section id="exam-section" class="section">
                <div class="section-header">
                    <h2>Practicar ÁªÉ‰π†</h2>
                    <p class="section-subtitle">Ejercicios y simulador de examen HSK1</p>
                </div>

                <!-- Practice Tabs -->
                <div class="practice-tabs">
                    <button class="practice-tab active" data-practice="exam">Examen</button>
                    <button class="practice-tab" data-practice="exercises">Ejercicios</button>
                    <button class="practice-tab" data-practice="listening-p">Escucha</button>
                    <button class="practice-tab" data-practice="reading-p">Lectura</button>
                </div>

                <!-- Exam Tab Content -->
                <div class="practice-content active" id="exam-practice-content">
                <div id="exam-start" class="exam-start">
                    <div class="exam-info-card">
                        <h3>Informaci√≥n del Examen HSK 1</h3>
                        <div class="exam-details">
                            <div class="detail-row">
                                <span class="detail-label">Duraci√≥n:</span>
                                <span class="detail-value">~40 minutos</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Preguntas:</span>
                                <span class="detail-value">40 (20 auditivas + 20 lectura)</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Puntuaci√≥n m√°xima:</span>
                                <span class="detail-value">200 puntos</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Para aprobar:</span>
                                <span class="detail-value">120 puntos (60%)</span>
                            </div>
                        </div>
                    </div>

                    <div class="exam-options">
                        <h3>Selecciona tipo de pr√°ctica:</h3>
                        <div class="exam-type-cards">
                            <div class="exam-type-card" data-type="full">
                                <div class="type-icon">üìù</div>
                                <h4>Examen Completo</h4>
                                <p>40 preguntas, tiempo real</p>
                            </div>
                            <div class="exam-type-card" data-type="listening">
                                <div class="type-icon">üëÇ</div>
                                <h4>Solo Comprensi√≥n Auditiva</h4>
                                <p>20 preguntas</p>
                            </div>
                            <div class="exam-type-card" data-type="reading">
                                <div class="type-icon">üìñ</div>
                                <h4>Solo Lectura</h4>
                                <p>20 preguntas</p>
                            </div>
                            <div class="exam-type-card" data-type="mini">
                                <div class="type-icon">‚ö°</div>
                                <h4>Mini Examen</h4>
                                <p>10 preguntas r√°pidas</p>
                            </div>
                        </div>
                    </div>

                    <button class="start-exam-btn" id="start-exam-btn">Comenzar Examen</button>
                </div>

                <div id="exam-active" class="exam-active hidden">
                    <div class="exam-header">
                        <div class="exam-timer" id="exam-timer">40:00</div>
                        <div class="exam-progress">
                            <span id="exam-question-num">1</span> / <span id="exam-total-questions">40</span>
                        </div>
                    </div>

                    <div class="exam-question-container" id="exam-question-container">
                        <!-- Question content will be loaded here -->
                    </div>

                    <div class="exam-navigation">
                        <button class="exam-nav-btn" id="exam-prev" disabled>Anterior</button>
                        <button class="exam-nav-btn primary" id="exam-next">Siguiente</button>
                    </div>
                </div>

                <div id="exam-results" class="exam-results hidden">
                    <div class="results-card">
                        <h3>Resultados del Examen</h3>
                        <div class="score-display">
                            <div class="score-circle" id="score-circle">
                                <span class="score-number" id="final-score">0</span>
                                <span class="score-max">/ 200</span>
                            </div>
                        </div>
                        <div class="result-status" id="result-status">
                            <!-- Pass/Fail message -->
                        </div>
                        <div class="score-breakdown">
                            <div class="breakdown-item">
                                <span class="breakdown-label">Comprensi√≥n Auditiva:</span>
                                <span class="breakdown-value" id="listening-score">0/100</span>
                            </div>
                            <div class="breakdown-item">
                                <span class="breakdown-label">Lectura:</span>
                                <span class="breakdown-value" id="reading-score">0/100</span>
                            </div>
                        </div>
                        <div class="results-actions">
                            <button class="results-btn" id="review-answers">Ver Respuestas</button>
                            <button class="results-btn primary" id="retry-exam">Intentar de Nuevo</button>
                        </div>
                    </div>
                </div>
                </div><!-- End exam-practice-content -->

                <!-- Exercises Tab Content -->
                <div class="practice-content" id="exercises-practice-content">
                    <div class="quick-practice-grid">
                        <div class="quick-practice-card" onclick="app.navigateTo('exercises')">
                            <div class="qp-icon">üîó</div>
                            <h4>Emparejamiento</h4>
                            <p>Une caracteres con significados</p>
                        </div>
                        <div class="quick-practice-card" onclick="app.startMatchingGame()">
                            <div class="qp-icon">üéÆ</div>
                            <h4>Juego R√°pido</h4>
                            <p>Practica con 10 palabras</p>
                        </div>
                    </div>
                </div>

                <!-- Listening Tab Content -->
                <div class="practice-content" id="listening-p-practice-content">
                    <div class="quick-practice-grid">
                        <div class="quick-practice-card" onclick="app.navigateTo('listening')">
                            <div class="qp-icon">üéß</div>
                            <h4>Comprensi√≥n Auditiva</h4>
                            <p>Escucha y responde preguntas</p>
                        </div>
                        <div class="quick-practice-card" onclick="app.startListeningExercise()">
                            <div class="qp-icon">üëÇ</div>
                            <h4>Pr√°ctica R√°pida</h4>
                            <p>10 ejercicios de escucha</p>
                        </div>
                    </div>
                </div>

                <!-- Reading Tab Content -->
                <div class="practice-content" id="reading-p-practice-content">
                    <div class="quick-practice-grid">
                        <div class="quick-practice-card" onclick="app.navigateTo('reading')">
                            <div class="qp-icon">üìñ</div>
                            <h4>Textos de Lectura</h4>
                            <p>Lee y comprende textos</p>
                        </div>
                        <div class="quick-practice-card" onclick="app.loadReadingList()">
                            <div class="qp-icon">üìö</div>
                            <h4>Ver Textos</h4>
                            <p>6 textos con preguntas</p>
                        </div>
                    </div>
                </div>

            </section>

            <!-- Exercises Section (hidden from menu, accessible via tabs) -->
            <section id="exercises-section" class="section">
                <div class="section-header">
                    <h2>Ejercicios Extra ÁªÉ‰π†</h2>
                </div>

                <div class="exercise-tabs">
                    <button class="exercise-tab active" data-tab="matching">Emparejamiento</button>
                    <button class="exercise-tab" data-tab="sentence">Ordenar Oraciones</button>
                    <button class="exercise-tab" data-tab="conversation">Conversaci√≥n</button>
                </div>

                <!-- Matching Exercise -->
                <div class="exercise-content active" id="matching-content">
                    <div class="matching-intro">
                        <p>Conecta cada palabra china con su significado correcto.</p>
                    </div>

                    <div class="matching-game" id="matching-game">
                        <div class="matching-column left" id="matching-left">
                            <!-- Chinese words will be generated here -->
                        </div>
                        <div class="matching-column right" id="matching-right">
                            <!-- Meanings will be generated here -->
                        </div>
                    </div>

                    <div class="matching-feedback" id="matching-feedback"></div>

                    <div class="matching-stats">
                        <div class="stat">
                            <span class="stat-number" id="matching-pairs">0</span>
                            <span class="stat-label">Pares</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number" id="matching-time">0:00</span>
                            <span class="stat-label">Tiempo</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number" id="matching-errors">0</span>
                            <span class="stat-label">Errores</span>
                        </div>
                    </div>

                    <button class="start-exercise-btn" id="start-matching">Nueva Partida</button>
                </div>

                <!-- Sentence Ordering Exercise -->
                <div class="exercise-content" id="sentence-content">
                    <div class="sentence-intro">
                        <p>Ordena las palabras para formar una oraci√≥n correcta en chino.</p>
                    </div>

                    <div class="sentence-game">
                        <div class="sentence-target" id="sentence-target">
                            <p class="target-meaning" id="target-meaning">Haz clic en "Comenzar" para empezar</p>
                        </div>

                        <div class="sentence-answer" id="sentence-answer">
                            <!-- User's arranged words appear here -->
                        </div>

                        <div class="sentence-words" id="sentence-words">
                            <!-- Scrambled words appear here -->
                        </div>

                        <div class="sentence-feedback" id="sentence-feedback"></div>

                        <div class="sentence-controls">
                            <button class="sentence-btn" id="clear-sentence">Limpiar</button>
                            <button class="sentence-btn primary" id="check-sentence">Verificar</button>
                        </div>
                    </div>

                    <div class="sentence-stats">
                        <div class="stat">
                            <span class="stat-number" id="sentence-correct">0</span>
                            <span class="stat-label">Correctas</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number" id="sentence-total">0</span>
                            <span class="stat-label">Total</span>
                        </div>
                    </div>

                    <button class="start-exercise-btn" id="start-sentence">Comenzar</button>
                </div>

                <!-- Conversation Practice -->
                <div class="exercise-content" id="conversation-content">
                    <div class="conversation-intro">
                        <p>Practica di√°logos b√°sicos del HSK1. Selecciona la respuesta correcta.</p>
                    </div>

                    <div class="conversation-area">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Conversation messages appear here -->
                        </div>

                        <div class="response-options" id="response-options">
                            <!-- Response options appear here -->
                        </div>
                    </div>

                    <div class="conversation-progress">
                        <span>Di√°logo: <span id="conv-current">0</span>/<span id="conv-total">0</span></span>
                    </div>

                    <button class="start-exercise-btn" id="start-conversation">Nuevo Di√°logo</button>
                </div>
            </section>

            <!-- Study Techniques Section -->
            <section id="techniques-section" class="section">
                <div class="section-header">
                    <h2>T√©cnicas de Estudio Â≠¶‰π†ÊñπÊ≥ï</h2>
                    <p class="section-subtitle">M√©todos cient√≠ficamente probados para aprender m√°s r√°pido</p>
                </div>

                <!-- Pomodoro Timer -->
                <div class="technique-card pomodoro-card">
                    <div class="technique-header">
                        <span class="technique-icon">üçÖ</span>
                        <div>
                            <h3>T√©cnica Pomodoro</h3>
                            <p>Sesiones de estudio enfocado de 25 minutos</p>
                        </div>
                    </div>
                    <div class="pomodoro-timer">
                        <div class="timer-display" id="pomodoro-display">25:00</div>
                        <div class="timer-status" id="pomodoro-status">Listo para empezar</div>
                        <div class="pomodoro-progress">
                            <div class="pomodoro-bar" id="pomodoro-bar"></div>
                        </div>
                        <div class="timer-controls">
                            <button class="timer-btn start" id="pomodoro-start">‚ñ∂ Iniciar</button>
                            <button class="timer-btn pause" id="pomodoro-pause" disabled>‚è∏ Pausar</button>
                            <button class="timer-btn reset" id="pomodoro-reset">‚Ü∫ Reiniciar</button>
                        </div>
                        <div class="pomodoro-stats">
                            <span>üçÖ Pomodoros hoy: <strong id="pomodoro-count">0</strong></span>
                        </div>
                    </div>
                </div>

                <!-- Technique Cards Grid -->
                <div class="techniques-grid">
                    <!-- Tone Pairs Drill -->
                    <div class="technique-card clickable" data-technique="tone-pairs">
                        <span class="technique-icon">üéµ</span>
                        <h4>Pares de Tonos</h4>
                        <p>Practica combinaciones de tonos dif√≠ciles</p>
                        <span class="technique-badge">Pronunciaci√≥n</span>
                    </div>

                    <!-- Shadowing -->
                    <div class="technique-card clickable" data-technique="shadowing">
                        <span class="technique-icon">üéß</span>
                        <h4>Shadowing</h4>
                        <p>Escucha y repite inmediatamente</p>
                        <span class="technique-badge">Fluidez</span>
                    </div>

                    <!-- Error Review -->
                    <div class="technique-card clickable" data-technique="error-review">
                        <span class="technique-icon">üîÑ</span>
                        <h4>Repaso de Errores</h4>
                        <p>Practica tus palabras m√°s dif√≠ciles</p>
                        <span class="technique-badge">Memoria</span>
                    </div>

                    <!-- Speed Reading -->
                    <div class="technique-card clickable" data-technique="speed-reading">
                        <span class="technique-icon">‚ö°</span>
                        <h4>Lectura R√°pida</h4>
                        <p>Mejora tu velocidad de reconocimiento</p>
                        <span class="technique-badge">Velocidad</span>
                    </div>

                    <!-- Mnemonics -->
                    <div class="technique-card clickable" data-technique="mnemonics">
                        <span class="technique-icon">üß†</span>
                        <h4>Mnemonics</h4>
                        <p>Trucos de memoria para caracteres</p>
                        <span class="technique-badge">Caracteres</span>
                    </div>

                    <!-- Active Recall -->
                    <div class="technique-card clickable" data-technique="active-recall">
                        <span class="technique-icon">üí≠</span>
                        <h4>Recall Activo</h4>
                        <p>Escribe el significado sin ver opciones</p>
                        <span class="technique-badge">Profundo</span>
                    </div>
                </div>

                <!-- Technique Practice Areas (hidden by default) -->

                <!-- Tone Pairs Practice -->
                <div class="technique-practice hidden" id="tone-pairs-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>üéµ Pr√°ctica de Pares de Tonos</h3>
                    <p class="technique-desc">Los pares de tonos son combinaciones comunes que causan confusi√≥n. Escucha y selecciona el par correcto.</p>

                    <div class="tone-pair-display">
                        <div class="tone-pair-word" id="tone-pair-word">‰Ω†Â•Ω</div>
                        <div class="tone-pair-pinyin" id="tone-pair-pinyin">n«ê h«éo</div>
                        <button class="listen-tone-btn" id="listen-tone-pair">üîä Escuchar</button>
                    </div>

                    <p class="tone-question">¬øQu√© combinaci√≥n de tonos escuchas?</p>
                    <div class="tone-pair-options" id="tone-pair-options">
                        <button class="tone-pair-option" data-tones="3-3">3¬∫ + 3¬∫</button>
                        <button class="tone-pair-option" data-tones="2-3">2¬∫ + 3¬∫</button>
                        <button class="tone-pair-option" data-tones="3-4">3¬∫ + 4¬∫</button>
                        <button class="tone-pair-option" data-tones="2-4">2¬∫ + 4¬∫</button>
                    </div>

                    <div class="technique-feedback" id="tone-pair-feedback"></div>
                    <button class="next-technique-btn" id="next-tone-pair">Siguiente Par</button>

                    <div class="technique-stats">
                        <span>‚úì <span id="tone-correct">0</span></span>
                        <span>‚úó <span id="tone-wrong">0</span></span>
                        <span>üéØ <span id="tone-accuracy">0%</span></span>
                    </div>
                </div>

                <!-- Shadowing Practice -->
                <div class="technique-practice hidden" id="shadowing-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>üéß Pr√°ctica de Shadowing</h3>
                    <p class="technique-desc">Escucha la frase y rep√≠tela inmediatamente mientras a√∫n suena. Esto mejora tu pronunciaci√≥n y fluidez.</p>

                    <div class="shadowing-display">
                        <div class="shadowing-sentence" id="shadowing-sentence">ÊàëÊòØÂ≠¶Áîü„ÄÇ</div>
                        <div class="shadowing-pinyin" id="shadowing-pinyin">W«í sh√¨ xu√©sheng.</div>
                        <div class="shadowing-meaning" id="shadowing-meaning">Soy estudiante.</div>
                    </div>

                    <div class="shadowing-controls">
                        <button class="shadowing-btn play" id="shadowing-play">
                            <span class="btn-icon">‚ñ∂</span>
                            Escuchar
                        </button>
                        <button class="shadowing-btn slow" id="shadowing-slow">
                            <span class="btn-icon">üê¢</span>
                            Lento
                        </button>
                        <button class="shadowing-btn record" id="shadowing-record">
                            <span class="btn-icon">üé§</span>
                            Grabar
                        </button>
                    </div>

                    <div class="shadowing-feedback" id="shadowing-feedback"></div>

                    <div class="shadowing-tips">
                        <h4>Tips para Shadowing:</h4>
                        <ul>
                            <li>Empieza a hablar mientras escuchas, no despu√©s</li>
                            <li>Imita el ritmo y la entonaci√≥n</li>
                            <li>Repite cada frase 3-5 veces</li>
                        </ul>
                    </div>

                    <button class="next-technique-btn" id="next-shadowing">Siguiente Frase</button>
                </div>

                <!-- Error Review Practice -->
                <div class="technique-practice hidden" id="error-review-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>üîÑ Repaso de Errores</h3>
                    <p class="technique-desc">Practica las palabras que m√°s te cuestan. El sistema rastrea tus errores y te ayuda a mejorar.</p>

                    <div class="error-stats-bar">
                        <span>Palabras dif√≠ciles: <strong id="difficult-count">0</strong></span>
                    </div>

                    <div class="error-word-display" id="error-word-display">
                        <div class="error-word-hanzi" id="error-hanzi">--</div>
                        <div class="error-word-info">
                            <span class="error-pinyin" id="error-pinyin">--</span>
                            <span class="error-attempts">Intentos fallidos: <span id="error-attempts">0</span></span>
                        </div>
                    </div>

                    <div class="error-question">¬øCu√°l es el significado?</div>
                    <div class="error-options" id="error-options">
                        <!-- Options generated by JS -->
                    </div>

                    <div class="technique-feedback" id="error-feedback"></div>
                    <button class="next-technique-btn" id="next-error">Siguiente Palabra</button>

                    <div class="no-errors-message hidden" id="no-errors">
                        <span class="success-icon">üéâ</span>
                        <p>¬°No tienes palabras dif√≠ciles! Sigue practicando para mantener tu progreso.</p>
                    </div>
                </div>

                <!-- Speed Reading Practice -->
                <div class="technique-practice hidden" id="speed-reading-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>‚ö° Lectura R√°pida</h3>
                    <p class="technique-desc">Reconoce palabras lo m√°s r√°pido posible. La velocidad es clave en el examen.</p>

                    <div class="speed-settings">
                        <label>Velocidad:</label>
                        <select id="speed-level">
                            <option value="3000">Principiante (3s)</option>
                            <option value="2000" selected>Intermedio (2s)</option>
                            <option value="1000">Avanzado (1s)</option>
                            <option value="500">Experto (0.5s)</option>
                        </select>
                    </div>

                    <div class="speed-display">
                        <div class="speed-timer-bar">
                            <div class="speed-timer-fill" id="speed-timer-fill"></div>
                        </div>
                        <div class="speed-word" id="speed-word">ÂáÜÂ§áÂ•Ω</div>
                    </div>

                    <div class="speed-options" id="speed-options">
                        <button class="speed-option">Opci√≥n 1</button>
                        <button class="speed-option">Opci√≥n 2</button>
                        <button class="speed-option">Opci√≥n 3</button>
                        <button class="speed-option">Opci√≥n 4</button>
                    </div>

                    <div class="technique-feedback" id="speed-feedback"></div>

                    <div class="speed-stats">
                        <div class="speed-stat">
                            <span class="stat-value" id="speed-correct">0</span>
                            <span class="stat-label">Correctas</span>
                        </div>
                        <div class="speed-stat">
                            <span class="stat-value" id="speed-streak">0</span>
                            <span class="stat-label">Racha</span>
                        </div>
                        <div class="speed-stat">
                            <span class="stat-value" id="speed-best">0</span>
                            <span class="stat-label">Mejor Racha</span>
                        </div>
                    </div>

                    <button class="start-technique-btn" id="start-speed">‚ñ∂ Comenzar</button>
                </div>

                <!-- Mnemonics Practice -->
                <div class="technique-practice hidden" id="mnemonics-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>üß† Mnemonics para Caracteres</h3>
                    <p class="technique-desc">Usa historias y asociaciones visuales para recordar caracteres.</p>

                    <div class="mnemonic-display">
                        <div class="mnemonic-char" id="mnemonic-char">Â•Ω</div>
                        <div class="mnemonic-info">
                            <span class="mnemonic-pinyin" id="mnemonic-pinyin">h«éo</span>
                            <span class="mnemonic-meaning" id="mnemonic-meaning">bueno</span>
                        </div>
                    </div>

                    <div class="mnemonic-breakdown">
                        <h4>An√°lisis del car√°cter:</h4>
                        <div class="components" id="mnemonic-components">
                            <div class="component">
                                <span class="comp-char">Â•≥</span>
                                <span class="comp-meaning">mujer</span>
                            </div>
                            <span class="comp-plus">+</span>
                            <div class="component">
                                <span class="comp-char">Â≠ê</span>
                                <span class="comp-meaning">hijo</span>
                            </div>
                        </div>
                    </div>

                    <div class="mnemonic-story" id="mnemonic-story">
                        <h4>üí° Historia para recordar:</h4>
                        <p>"Una <strong>mujer</strong> (Â•≥) con su <strong>hijo</strong> (Â≠ê) = algo <strong>bueno</strong> (Â•Ω)"</p>
                    </div>

                    <div class="mnemonic-test">
                        <p>Practica: ¬øQu√© significa este car√°cter?</p>
                        <div class="mnemonic-options" id="mnemonic-options">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <div class="technique-feedback" id="mnemonic-feedback"></div>
                    <button class="next-technique-btn" id="next-mnemonic">Siguiente Car√°cter</button>
                </div>

                <!-- Active Recall Practice -->
                <div class="technique-practice hidden" id="active-recall-practice">
                    <button class="back-technique-btn" onclick="app.closeTechniquePractice()">‚Üê Volver</button>
                    <h3>üí≠ Recall Activo</h3>
                    <p class="technique-desc">Escribe la respuesta sin ver opciones. Es m√°s dif√≠cil pero m√°s efectivo para la memoria a largo plazo.</p>

                    <div class="recall-display">
                        <div class="recall-prompt">Escribe el pinyin de:</div>
                        <div class="recall-word" id="recall-word">Â≠¶Áîü</div>
                        <div class="recall-hint" id="recall-hint">Pista: estudiante</div>
                    </div>

                    <div class="recall-input-area">
                        <input type="text" id="recall-input" placeholder="Escribe el pinyin aqu√≠..." autocomplete="off" autocapitalize="off">
                        <button class="recall-submit" id="recall-submit">Verificar</button>
                    </div>

                    <div class="recall-result hidden" id="recall-result">
                        <div class="correct-answer">
                            <span>Respuesta correcta:</span>
                            <strong id="recall-correct-answer">xu√©sheng</strong>
                        </div>
                    </div>

                    <div class="technique-feedback" id="recall-feedback"></div>

                    <div class="recall-mode-toggle">
                        <span>Modo:</span>
                        <button class="recall-mode active" data-mode="pinyin">Pinyin</button>
                        <button class="recall-mode" data-mode="meaning">Significado</button>
                        <button class="recall-mode" data-mode="hanzi">Caracteres</button>
                    </div>

                    <button class="next-technique-btn" id="next-recall">Siguiente Palabra</button>
                </div>

                <!-- Study Tips Section -->
                <div class="study-tips-section">
                    <h3>üí° Consejos para el Examen HSK1</h3>
                    <div class="tips-grid">
                        <div class="tip-card">
                            <span class="tip-icon">üìÖ</span>
                            <h4>Estudia cada d√≠a</h4>
                            <p>20-30 minutos diarios es mejor que 3 horas una vez por semana</p>
                        </div>
                        <div class="tip-card">
                            <span class="tip-icon">üëÇ</span>
                            <h4>Escucha mucho</h4>
                            <p>El 50% del examen es comprensi√≥n auditiva</p>
                        </div>
                        <div class="tip-card">
                            <span class="tip-icon">üîÅ</span>
                            <h4>Repite errores</h4>
                            <p>Practica m√°s las palabras que te cuestan</p>
                        </div>
                        <div class="tip-card">
                            <span class="tip-icon">‚è±Ô∏è</span>
                            <h4>Practica con tiempo</h4>
                            <p>Acost√∫mbrate a la presi√≥n del reloj</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Listening Comprehension Section -->
            <section id="listening-section" class="section">
                <div class="section-header">
                    <h2>Comprensi√≥n Auditiva Âê¨Âäõ</h2>
                    <p>Practica tu comprensi√≥n auditiva estilo examen HSK</p>
                </div>

                <div class="listening-modes">
                    <button class="listening-mode-btn active" data-type="word-meaning">Palabras</button>
                    <button class="listening-mode-btn" data-type="number">N√∫meros</button>
                    <button class="listening-mode-btn" data-type="sentence">Oraciones</button>
                    <button class="listening-mode-btn" data-type="dialogue">Di√°logos</button>
                    <button class="listening-mode-btn" data-type="dictation">Dictado</button>
                </div>

                <div class="listening-start-panel" id="listening-start">
                    <div class="start-info">
                        <h3>Ejercicio de Escucha</h3>
                        <p>Escuchar√°s audio en chino y deber√°s seleccionar la respuesta correcta.</p>
                        <div class="exercise-config">
                            <label>N√∫mero de preguntas:</label>
                            <select id="listening-count">
                                <option value="5">5 preguntas</option>
                                <option value="10" selected>10 preguntas</option>
                                <option value="15">15 preguntas</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn-start-listening" onclick="app.startListeningExercise()">
                        Comenzar Ejercicio
                    </button>
                </div>

                <div class="listening-exercise-panel" id="listening-exercise" style="display: none;">
                    <div class="listening-progress">
                        <span id="listening-current">1</span> / <span id="listening-total">10</span>
                    </div>

                    <div class="listening-card">
                        <button class="btn-play-audio" id="btn-play-listening" onclick="app.playListeningAudio()">
                            <svg viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                            <span>Reproducir Audio</span>
                        </button>

                        <div class="listening-question" id="listening-question"></div>

                        <div class="listening-options" id="listening-options"></div>
                    </div>

                    <div class="listening-feedback" id="listening-feedback"></div>
                </div>

                <div class="listening-results-panel" id="listening-results" style="display: none;">
                    <h3>Resultados</h3>
                    <div class="results-score">
                        <span class="score-number" id="listening-score">0</span>
                        <span class="score-total">/ <span id="listening-score-total">10</span></span>
                    </div>
                    <div class="results-percentage" id="listening-percentage">0%</div>
                    <div class="results-message" id="listening-message"></div>
                    <button class="btn-restart" onclick="app.restartListening()">Practicar de Nuevo</button>
                </div>
            </section>

            <!-- Reading Comprehension Section -->
            <section id="reading-section" class="section">
                <div class="section-header">
                    <h2>Comprensi√≥n Lectora ÈòÖËØª</h2>
                    <p>Lee textos en chino y responde preguntas de comprensi√≥n</p>
                </div>

                <div class="reading-list" id="reading-list">
                    <!-- Reading texts will be loaded here -->
                </div>

                <div class="reading-exercise-panel" id="reading-exercise" style="display: none;">
                    <div class="reading-text-card">
                        <h3 id="reading-title"></h3>
                        <div class="reading-text" id="reading-text"></div>
                        <button class="btn-show-pinyin" onclick="app.toggleReadingPinyin()">
                            Mostrar/Ocultar Pinyin
                        </button>
                        <div class="reading-pinyin" id="reading-pinyin" style="display: none;"></div>
                        <div class="reading-translation" id="reading-translation" style="display: none;"></div>
                        <button class="btn-show-translation" onclick="app.toggleReadingTranslation()">
                            Mostrar/Ocultar Traducci√≥n
                        </button>
                        <button class="btn-listen-text" onclick="app.readTextAloud()">
                            Escuchar Texto
                        </button>
                    </div>

                    <div class="reading-questions" id="reading-questions">
                        <h4>Preguntas de Comprensi√≥n</h4>
                        <div class="question-container" id="reading-question-container"></div>
                    </div>

                    <div class="reading-results" id="reading-results" style="display: none;">
                        <h4>Resultados</h4>
                        <div class="score-display">
                            <span id="reading-score">0</span> / <span id="reading-total">0</span> correctas
                        </div>
                        <button class="btn-back" onclick="app.backToReadingList()">Volver a la Lista</button>
                    </div>
                </div>
            </section>

            <!-- Statistics Section -->
            <section id="statistics-section" class="section">
                <div class="section-header">
                    <h2>Estad√≠sticas y Progreso ÁªüËÆ°</h2>
                    <p>Analiza tu progreso y planifica tu estudio</p>
                </div>

                <!-- Weekly Overview -->
                <div class="stats-card">
                    <h3>Esta Semana</h3>
                    <div class="week-stats" id="week-stats">
                        <div class="week-chart" id="week-chart"></div>
                    </div>
                </div>

                <!-- SRS Calendar -->
                <div class="stats-card">
                    <h3>Calendario de Repaso</h3>
                    <div id="srs-calendar-container"></div>
                    <div class="srs-week-container" id="srs-week-container"></div>
                </div>

                <!-- Monthly Stats -->
                <div class="stats-card">
                    <h3>Resumen del Mes</h3>
                    <div class="monthly-stats" id="monthly-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="month-sessions">0</span>
                            <span class="stat-label">Sesiones</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="month-words">0</span>
                            <span class="stat-label">Palabras</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="month-time">0</span>
                            <span class="stat-label">Minutos</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="month-accuracy">0%</span>
                            <span class="stat-label">Precisi√≥n</span>
                        </div>
                    </div>
                </div>

                <!-- Difficult Words -->
                <div class="stats-card">
                    <h3>Palabras Dif√≠ciles</h3>
                    <div class="difficult-words" id="difficult-words">
                        <p class="empty-message">Sigue practicando para identificar palabras dif√≠ciles</p>
                    </div>
                </div>

                <!-- Similar Characters -->
                <div class="stats-card">
                    <h3>Caracteres Similares</h3>
                    <p>Aprende a distinguir caracteres que se parecen</p>
                    <div class="similar-chars-grid" id="similar-chars-grid"></div>
                </div>

                <!-- Tone Progress -->
                <div class="stats-card">
                    <h3>Progreso por Tonos</h3>
                    <div class="tone-progress" id="tone-progress">
                        <div class="tone-bar-item">
                            <span class="tone-label t1">1¬∫ Tono</span>
                            <div class="tone-bar-container"><div class="tone-bar t1" id="tone1-bar"></div></div>
                            <span class="tone-percent" id="tone1-percent">0%</span>
                        </div>
                        <div class="tone-bar-item">
                            <span class="tone-label t2">2¬∫ Tono</span>
                            <div class="tone-bar-container"><div class="tone-bar t2" id="tone2-bar"></div></div>
                            <span class="tone-percent" id="tone2-percent">0%</span>
                        </div>
                        <div class="tone-bar-item">
                            <span class="tone-label t3">3¬∫ Tono</span>
                            <div class="tone-bar-container"><div class="tone-bar t3" id="tone3-bar"></div></div>
                            <span class="tone-percent" id="tone3-percent">0%</span>
                        </div>
                        <div class="tone-bar-item">
                            <span class="tone-label t4">4¬∫ Tono</span>
                            <div class="tone-bar-container"><div class="tone-bar t4" id="tone4-bar"></div></div>
                            <span class="tone-percent" id="tone4-percent">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Completion Estimate -->
                <div class="stats-card">
                    <h3>Estimaci√≥n de Completado</h3>
                    <div class="completion-estimate" id="completion-estimate">
                        <p>Basado en tu ritmo actual...</p>
                        <div class="estimate-info">
                            <span class="estimate-days" id="estimate-days">--</span>
                            <span class="estimate-label">d√≠as restantes</span>
                        </div>
                    </div>
                </div>

                <!-- Export/Import -->
                <div class="stats-card">
                    <h3>Exportar / Importar Datos</h3>
                    <div class="backup-buttons">
                        <button class="btn-export" onclick="BackupModule.exportAsJSON()">
                            Exportar Backup (JSON)
                        </button>
                        <button class="btn-export" onclick="BackupModule.exportAsCSV()">
                            Exportar CSV
                        </button>
                        <button class="btn-export" onclick="BackupModule.exportForAnki()">
                            Exportar para Anki
                        </button>
                        <button class="btn-export" onclick="BackupModule.generatePrintableFlashcards()">
                            Flashcards Imprimibles
                        </button>
                        <button class="btn-import" onclick="BackupModule.createImportDialog()">
                            Importar Backup
                        </button>
                    </div>
                    <div class="data-size" id="data-size"></div>
                </div>

                <!-- Notifications Settings -->
                <div class="stats-card">
                    <h3>Notificaciones</h3>
                    <div id="notification-settings"></div>
                </div>
            </section>
        </main>

        <!-- Session Summary Modal -->
        <div id="session-modal" class="modal">
            <div class="modal-content session-modal">
                <h2>Resumen de Sesi√≥n</h2>
                <div class="session-stats">
                    <div class="session-stat">
                        <span class="session-value" id="session-duration">0</span>
                        <span class="session-label">minutos</span>
                    </div>
                    <div class="session-stat">
                        <span class="session-value" id="session-words">0</span>
                        <span class="session-label">palabras</span>
                    </div>
                    <div class="session-stat">
                        <span class="session-value" id="session-accuracy">0%</span>
                        <span class="session-label">precisi√≥n</span>
                    </div>
                    <div class="session-stat">
                        <span class="session-value" id="session-xp">+0</span>
                        <span class="session-label">XP</span>
                    </div>
                </div>
                <div class="session-difficult" id="session-difficult"></div>
                <button class="btn-close-session" onclick="app.closeSessionModal()">Continuar</button>
            </div>
        </div>

        <!-- Progress Modal - Advanced Statistics Panel -->
        <div id="progress-modal" class="modal">
            <div class="modal-content stats-modal">
                <button class="modal-close" id="close-progress-modal">&times;</button>
                <h2>üìä Estad√≠sticas Avanzadas</h2>

                <!-- HSK1 Readiness Score -->
                <div class="readiness-section">
                    <h3>Preparaci√≥n para HSK1</h3>
                    <div class="readiness-meter">
                        <div class="readiness-score" id="readiness-score">0%</div>
                        <div class="readiness-bar-container">
                            <div class="readiness-bar" id="readiness-bar" style="width: 0%"></div>
                        </div>
                        <div class="readiness-status" id="readiness-status">Comenzando</div>
                    </div>
                </div>

                <!-- Weekly Activity Graph -->
                <div class="activity-section">
                    <h3>Actividad Semanal</h3>
                    <div class="weekly-graph" id="weekly-graph">
                        <div class="day-bar" data-day="L">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">L</span>
                        </div>
                        <div class="day-bar" data-day="M">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">M</span>
                        </div>
                        <div class="day-bar" data-day="X">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">X</span>
                        </div>
                        <div class="day-bar" data-day="J">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">J</span>
                        </div>
                        <div class="day-bar" data-day="V">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">V</span>
                        </div>
                        <div class="day-bar" data-day="S">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">S</span>
                        </div>
                        <div class="day-bar" data-day="D">
                            <div class="bar-fill" style="height: 0%"></div>
                            <span class="day-label">D</span>
                        </div>
                    </div>
                </div>

                <!-- Detailed Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìö</div>
                        <div class="stat-value" id="stat-vocab">0/150</div>
                        <div class="stat-name">Vocabulario</div>
                        <div class="stat-progress">
                            <div class="stat-bar" id="vocab-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úèÔ∏è</div>
                        <div class="stat-value" id="stat-exercises">0</div>
                        <div class="stat-name">Ejercicios</div>
                        <div class="stat-detail">completados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-value" id="stat-accuracy">0%</div>
                        <div class="stat-name">Precisi√≥n</div>
                        <div class="stat-detail">respuestas correctas</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-value" id="stat-time">0h</div>
                        <div class="stat-name">Tiempo Total</div>
                        <div class="stat-detail">de estudio</div>
                    </div>
                </div>

                <!-- Performance by Category -->
                <div class="performance-section">
                    <h3>Rendimiento por Categor√≠a</h3>
                    <div class="performance-bars">
                        <div class="perf-item">
                            <span class="perf-label">Lectura</span>
                            <div class="perf-bar-container">
                                <div class="perf-bar" id="perf-reading" style="width: 0%"></div>
                            </div>
                            <span class="perf-value" id="perf-reading-val">0%</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label">Auditiva</span>
                            <div class="perf-bar-container">
                                <div class="perf-bar listening" id="perf-listening" style="width: 0%"></div>
                            </div>
                            <span class="perf-value" id="perf-listening-val">0%</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label">Pinyin</span>
                            <div class="perf-bar-container">
                                <div class="perf-bar pinyin" id="perf-pinyin" style="width: 0%"></div>
                            </div>
                            <span class="perf-value" id="perf-pinyin-val">0%</span>
                        </div>
                        <div class="perf-item">
                            <span class="perf-label">Gram√°tica</span>
                            <div class="perf-bar-container">
                                <div class="perf-bar grammar" id="perf-grammar" style="width: 0%"></div>
                            </div>
                            <span class="perf-value" id="perf-grammar-val">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Exam History -->
                <div class="exam-history-section">
                    <h3>Historial de Ex√°menes</h3>
                    <div class="exam-stats-row">
                        <div class="exam-stat">
                            <span class="exam-stat-value" id="best-score">--</span>
                            <span class="exam-stat-label">Mejor Puntuaci√≥n</span>
                        </div>
                        <div class="exam-stat">
                            <span class="exam-stat-value" id="exams-taken">0</span>
                            <span class="exam-stat-label">Ex√°menes</span>
                        </div>
                        <div class="exam-stat">
                            <span class="exam-stat-value" id="pass-rate">0%</span>
                            <span class="exam-stat-label">Aprobados</span>
                        </div>
                    </div>
                </div>

                <!-- Streak & XP Summary -->
                <div class="summary-section">
                    <div class="summary-item streak">
                        <span class="summary-icon">üî•</span>
                        <span class="summary-value" id="modal-streak">0</span>
                        <span class="summary-label">d√≠as de racha</span>
                    </div>
                    <div class="summary-item xp">
                        <span class="summary-icon">‚≠ê</span>
                        <span class="summary-value" id="modal-total-xp">0</span>
                        <span class="summary-label">XP total</span>
                    </div>
                    <div class="summary-item level">
                        <span class="summary-icon">üèÖ</span>
                        <span class="summary-value" id="modal-level">1</span>
                        <span class="summary-label">nivel actual</span>
                    </div>
                </div>

                <button class="reset-progress-btn" id="reset-progress">‚ö†Ô∏è Reiniciar Todo el Progreso</button>
            </div>
        </div>
    </div>

    <!-- M√≥dulos HSK (carga modular y escalable) -->
    <script src="data/hsk-config.js"></script>
    <script src="modules/dictionary.js"></script>
    <script src="modules/sentences.js"></script>
    <script src="modules/speech.js"></script>
    <script src="modules/vocabulary.js"></script>
    <!-- M√≥dulos adicionales -->
    <script src="modules/statistics.js"></script>
    <script src="modules/listening.js"></script>
    <script src="modules/reading.js"></script>
    <script src="modules/radicals.js"></script>
    <script src="modules/calendar.js"></script>
    <script src="modules/backup.js"></script>
    <script src="modules/notifications.js"></script>

    <!-- Onboarding Modal (para usuarios nuevos) -->
    <div id="onboarding-modal" class="modal">
        <div class="modal-content onboarding-modal">
            <div class="onboarding-header">
                <span class="onboarding-logo">‰∏≠</span>
                <h2>¬°Bienvenido a HSK1!</h2>
                <p>Tu camino para dominar el chino b√°sico</p>
            </div>

            <div class="onboarding-options">
                <div class="onboarding-option" onclick="app.startOnboardingPath('lessons')">
                    <div class="option-icon">üìö</div>
                    <div class="option-content">
                        <h3>Empezar desde cero</h3>
                        <p>Aprende paso a paso con las 15 lecciones estructuradas</p>
                    </div>
                    <span class="option-badge">Recomendado</span>
                </div>

                <div class="onboarding-option" onclick="app.startOnboardingPath('flashcards')">
                    <div class="option-icon">üé¥</div>
                    <div class="option-content">
                        <h3>Pr√°ctica r√°pida</h3>
                        <p>Salta directo a las flashcards y memoriza vocabulario</p>
                    </div>
                </div>

                <div class="onboarding-option" onclick="app.startOnboardingPath('exam')">
                    <div class="option-icon">‚úèÔ∏è</div>
                    <div class="option-content">
                        <h3>Ya s√© algo</h3>
                        <p>Haz un mini examen para evaluar tu nivel actual</p>
                    </div>
                </div>
            </div>

            <button class="onboarding-skip" onclick="app.closeOnboarding()">
                Explorar por mi cuenta
            </button>
        </div>
    </div>

    <!-- Error Toast para notificaciones de error -->
    <div id="error-toast" class="error-toast" role="alert" aria-live="polite"></div>

    <!-- Skip to content link para accesibilidad -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>

    <!-- App principal -->
    <script src="data.js"></script>
    <script src="app.js"></script>

    <!-- Service Worker para uso Offline -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('‚úì App disponible offline'))
                    .catch(err => console.log('SW:', err));
            });
        }
    </script>
</body>
</html>
